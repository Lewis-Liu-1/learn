https://vivonomicon.com/2018/04/20/bare-metal-stm32-programming-part-2-making-it-to-main/

